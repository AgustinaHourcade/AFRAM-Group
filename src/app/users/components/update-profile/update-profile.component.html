
<app-navbar></app-navbar>
<div class="account-page">
    <h1>Perfil</h1>

    <div class="update-info">
      <h2>Actualizar información personal</h2>
      <form [formGroup]="formulario" >
        <div>
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" >
          @if (formulario.controls['email'].get('required') && formulario.controls['email'].touched) {
            <span> Campo requerido. </span>
          }
        </div>

        <div>
          <label for="phone">Telefono</label>
          <input type="text" id="phone" formControlName="phone">
          @if (formulario.controls['phone'].get('required') && formulario.controls['phone'].touched) {
            <span> Campo requerido. </span>
          }
        </div>
        
        <div>
          <label for="country">Pais</label>
          <input type="text" id="country" formControlName="country">
          @if (formulario.controls['country'].get('required') && formulario.controls['country'].touched) {
            <span> Campo requerido. </span>
          }
        </div>
        
        <div>
          <label for="city">Ciudad</label>
          <input type="text" id="city" formControlName="city">
          @if (formulario.controls['city'].get('required') && formulario.controls['city'].touched) {
            <span> Campo requerido. </span>
          }
        </div>

        <div>
          <label for="postal_code">Codigo postal</label>
          <input type="string" id="postal_code" formControlName="postal_code">
          @if (formulario.controls['postal_code'].get('required') && formulario.controls['postal_code'].touched) {
            <span> Campo requerido. </span>
          }
        </div>

        <div>
          <label for="street">Calle</label>
          <input type="text" id="street" formControlName="street">
          @if (formulario.controls['street'].get('required') && formulario.controls['street'].touched) {
            <span> Campo requerido. </span>
          }
        </div>
  
        <div>
          <label for="address_number">Numero</label>
          <input type="number" id="address_number" formControlName="address_number">
          @if (formulario.controls['address_number'].get('required') && formulario.controls['address_number'].touched) {
            <span> Campo requerido. </span>
          }
        </div>
  
        <div>
          <label for="floor">Piso</label>
          <input type="string" id="floor" formControlName="floor" >
        </div>
  
        <div>
          <label for="apartment">Departamento</label>
          <input type="text" id="apartment" formControlName="apartment">
        </div>

        <button (click)="updateProfile()" >Actualizar</button>
      </form>
    </div>
  
    <div class="security-info">
      <h2>Seguridad</h2>
      <form [formGroup]="formularioContra">
        
        <div>
          <label for="currentPassword">Contraseña actual</label>
          <input type="password" id="currentPassword" formControlName="currentPassword" placeholder="Ingrese su contraseña actual">
          @if (formularioContra.controls['currentPassword'].get('required') && formularioContra.controls['currentPassword'].touched) {
            <span> Campo requerido. </span>
          }
          @if (formularioContra.controls['currentPassword'].get('minlength') && formularioContra.controls['currentPassword'].touched) {
            <span> Minimo 6 caracteres. </span>
          }
        </div>

        <div>
          <label for="newPassword">Nueva contraseña</label>
          <input type="password" id="newPassword" formControlName="newPassword" placeholder="Ingrese la nueva contraseña">
          @if (formularioContra.controls['newPassword'].get('required') && formularioContra.controls['newPassword'].touched) {
            <span> Campo requerido. </span>
          }
          @if (formularioContra.controls['currentPassword'].get('minlength') && formularioContra.controls['currentPassword'].touched) {
            <span> Minimo 6 caracteres. </span>
          }
        </div>
        
        <div>
          <label for="retypePassword">Repetir contraseña</label>
          <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Repita la nueva contraseña">
          @if (formularioContra.controls['confirmPassword'].get('required') && formularioContra.controls['confirmPassword'].touched) {
            <span> Campo requerido. </span>
          }
          @if (formularioContra.controls['currentPassword'].get('minlength') && formularioContra.controls['currentPassword'].touched) {
            <span> Minimo 6 caracteres. </span>
          }
        </div>
  
        <button (click)="updatePassword()">Actualizar</button>
      </form>
    </div>
  </div>
  