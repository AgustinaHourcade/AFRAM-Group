<div class="chat-widget" (click)="preventClose($event)">
  <button class="chat-button" (click)="toggleChat($event)">
    <i class="bi bi-chat-dots"></i>
  </button>
  
  <div class="chat-container" [class.active]="isOpen">
    <div class="chat-header">
      <img src="chatbot.png" alt="Afrika Avatar" class="chat-avatar">
      <span class="chat-name">Afrika</span>
    
    </div>

    <div #chatMessages class="chat-messages">
      @for(message of messages; track $index){
        <app-chat-message
        [message]="message"
        (faqSelected)="selectFaq($event)"
        (topicSelected)="selectTopic($event)">
      </app-chat-message>
      }
    </div>

    <div class="chat-input">
      <input
        type="text"
        [(ngModel)]="currentMessage"
        (keyup.enter)="sendMessage()"
        placeholder="Escribe tu pregunta aquÃ­..."
      />
      <button (click)="sendMessage()">Enviar</button>
    </div>
  </div>
</div>